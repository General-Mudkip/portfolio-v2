---
import { ExternalLink } from "lucide-preact";

const { post } = Astro.props;

const postLink = "https://blog.mudkip.live/" + post.slug;

const postDate = new Date(post.publishedAt);
const postDateStr = postDate.toLocaleDateString();
---

<a href={postLink} target="_blank">
    <div
        class="group m-2 mb-4 flex flex-col rounded-xl border-2 border-slate-500 p-4 transition-all duration-150 hover:border-transparent hover:bg-slate-400/10"
    >
        <span class="flex flex-row justify-between">
            <h2
                class="flex gap-x-2 text-lg font-bold text-white transition-all duration-150 group-hover:text-sky-400"
            >
                <span>{post.title}</span>
                <ExternalLink size={16} class="place-self-center" />
            </h2>
            <h3 class="mono text-gray-600">
                {postDateStr}
            </h3>
        </span>

        <p class="indent-4 transition-all duration-150 group-hover:text-white">
            {post.brief}
        </p>
        <ul class="mt-2 flex flex-row flex-wrap gap-2">
            {
                post.tags.map((tag: { name: string; slug: string }) => (
                    <li class="rounded-full bg-sky-500/15 px-3 py-1 font-mono text-xs text-sky-400">
                        #{tag.name}
                    </li>
                ))
            }
        </ul>
    </div>
</a>
