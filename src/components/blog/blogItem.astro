---
import { ExternalLink } from "lucide-preact";

const { post } = Astro.props;

const postLink = "https://blog.mudkip.live/" + post.slug;

const postDate = new Date(post.publishedAt);
const postDateStr = postDate.toLocaleDateString();
---

<a href={postLink} target="_blank">
    <div
        class="group p-4 mb-4 flex flex-col border-2 border-slate-500 m-2 rounded-xl hover:bg-slate-400/10 hover:border-transparent transition-all duration-150"
    >
        <span class="flex flex-row justify-between">
            <h2
                class="text-lg font-bold text-white flex gap-x-2 group-hover:text-sky-400 transition-all duration-150"
            >
                <span>{post.title}</span>
                <ExternalLink size={16} class="place-self-center" />
            </h2>
            <h3 class="mono text-gray-600">
                {postDateStr}
            </h3>
        </span>

        <p class="indent-4 group-hover:text-white transition-all duration-150">
            {post.brief}
        </p>
        <ul class="flex flex-row flex-wrap gap-2 mt-2">
            {
                post.tags.map((tag: { name: string; slug: string }) => (
                    <li class="bg-sky-500/15 text-sky-400 font-mono text-xs px-3 py-1 rounded-full">
                        #{tag.name}
                    </li>
                ))
            }
        </ul>
    </div>
</a>
