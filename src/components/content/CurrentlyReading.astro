---
const response = await fetch("https://api.hardcover.app/v1/graphql",
  {
    method: 'POST',
        headers: {'Content-Type':'application/json', "authorization": process.env.HARDCOVER_KEY},
    body: JSON.stringify({
      query: `
        query CurrentlyReading {
          me {
            user_books(where: {status_id: {_eq: 2}}) {
              id
              book {
                title
                pages
                book_series {
                  series {
                    name
                  }
                }
                description
                image {
                  url
                }
                release_date
                rating
              }
            }
          }
        }      
`,
    }),
  });

const json = await response.json();
const currentlyReading = json["data"]["me"][0]["user_books"];

console.log(currentlyReading[0])
---

<h1 id="Title" class="mb-2 text-2xl font-bold tracking-tight text-slate-200 sm:text-5xl">
    Reading
</h1>

<h3 class="text-lg">Here's a small window into what I like to read! I use the amazing service 
    <a  class="cursor-pointer font-mono text-slate-200 transition-colors duration-200 hover:text-sky-400" href="https://astro.build" target="_blank"
    >Hardcover</a> to track everything, and their API is what's used to fetch the data for this page.

    </h3>

<h2 class="mb-4 mt-8 text-2xl tracking-tight text-slate-200">Currently Reading</h2>
