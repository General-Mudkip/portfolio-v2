import{b as N,t as q,l as h}from"./preact.module.DosACnla.js";import{E as p,u as $,F as m,w as b,d as g,r as x}from"./signals-core.module.DM0dM7rX.js";var y,d,k=[];p(function(){y=this.N})();function s(r,i){h[r]=i.bind(null,h[r]||function(){})}function l(r){d&&d(),d=r&&r.S()}function S(r){var i=this,e=r.data,t=F(e);t.value=e;var f=m(function(){for(var a=i,o=i.__v;o=o.__;)if(o.__c){o.__c.__$f|=4;break}var _=b(function(){var c=t.value.value;return c===0?0:c===!0?"":c||""}),v=b(function(){return!q(_.value)}),w=p(function(){if(this.N=U,v.value){var c=_.value;a.base&&a.base.nodeType===3&&(a.base.data=c)}}),A=i.__$u.d;return i.__$u.d=function(){w(),A.call(this)},[v,_]},[]),u=f[0],n=f[1];return u.value?n.peek():n.value}S.displayName="_st";Object.defineProperties($.prototype,{constructor:{configurable:!0,value:void 0},type:{configurable:!0,value:S},props:{configurable:!0,get:function(){return{data:this}}},__b:{configurable:!0,value:1}});s("__b",function(r,i){if(typeof i.type=="string"){var e,t=i.props;for(var f in t)if(f!=="children"){var u=t[f];u instanceof $&&(e||(i.__np=e={}),e[f]=u,t[f]=u.peek())}}r(i)});s("__r",function(r,i){l();var e,t=i.__c;t&&(t.__$f&=-2,(e=t.__$u)===void 0&&(t.__$u=e=function(f){var u;return p(function(){u=this}),u.c=function(){t.__$f|=1,t.setState({})},u}())),l(e),r(i)});s("__e",function(r,i,e,t){l(),r(i,e,t)});s("diffed",function(r,i){l();var e;if(typeof i.type=="string"&&(e=i.__e)){var t=i.__np,f=i.props;if(t){var u=e.U;if(u)for(var n in u){var a=u[n];a!==void 0&&!(n in t)&&(a.d(),u[n]=void 0)}else u={},e.U=u;for(var o in t){var _=u[o],v=t[o];_===void 0?(_=E(e,o,v,f),u[o]=_):_.o(v,f)}}}r(i)});function E(r,i,e,t){var f=i in r&&r.ownerSVGElement===void 0,u=g(e);return{o:function(n,a){u.value=n,t=a},d:p(function(){this.N=U;var n=u.value.value;t[i]!==n&&(t[i]=n,f?r[i]=n:n?r.setAttribute(i,n):r.removeAttribute(i))})}}s("unmount",function(r,i){if(typeof i.type=="string"){var e=i.__e;if(e){var t=e.U;if(t){e.U=void 0;for(var f in t){var u=t[f];u&&u.d()}}}}else{var n=i.__c;if(n){var a=n.__$u;a&&(n.__$u=void 0,a.d())}}r(i)});s("__h",function(r,i,e,t){(t<3||t===9)&&(i.__$f|=2),r(i,e,t)});N.prototype.shouldComponentUpdate=function(r,i){var e=this.__$u,t=e&&e.s!==void 0;for(var f in i)return!0;if(this.__f||typeof this.u=="boolean"&&this.u===!0){var u=2&this.__$f;if(!(t||u||4&this.__$f)||1&this.__$f)return!0}else if(!(t||4&this.__$f)||3&this.__$f)return!0;for(var n in r)if(n!=="__source"&&r[n]!==this.props[n])return!0;for(var a in this.props)if(!(a in r))return!0;return!1};function F(r){return m(function(){return g(r)},[])}var M=function(r){queueMicrotask(function(){queueMicrotask(r)})};function j(){x(function(){for(var r;r=k.shift();)y.call(r)})}function U(){k.push(this)===1&&(h.requestAnimationFrame||M)(j)}export{$ as Signal,x as batch,b as computed,p as effect,g as signal,F as useSignal};
